name: Midnight Auto Scraping (All Sports)

on:
  schedule:
    # Codziennie o 22:00 UTC = 00:00 czasu polskiego (UTC+2 latem)
    # Zbiera mecze NA KOLEJNY DZIEÅƒ (np. o pÃ³Å‚nocy 25.10 zbiera na 25.10)
    - cron: '0 22 * * *'
  
  # MoÅ¼liwoÅ›Ä‡ rÄ™cznego uruchomienia (zakÅ‚adka Actions na GitHub)
  workflow_dispatch:

jobs:
  # âš½ FOOTBALL
  football:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: âš½ Run Football Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Football dla daty: $TODAY"
        
        # Mail 1: Zdarzenia z przewagÄ… formy + kursy
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 1/2: Zdarzenia z PRZEWAGÄ„ FORMY + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports football \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-form-advantage \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund miÄ™dzy mailami
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        
        # Mail 2: Wszystkie kwalifikujÄ…ce siÄ™ zdarzenia z kursami
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: WSZYSTKIE KWALIFIKUJÄ„CE + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports football \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund przed Mail 3
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 3..."
        sleep 10
        
        # Mail 3: Over/Under Statistics
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 3/3: OVER/UNDER STATISTICS"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports football \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 3 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Football scraping zakoÅ„czony (3 maile wysÅ‚ane)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Football outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: football-results-${{ github.run_number }}
        path: outputs/*football*.csv
        if-no-files-found: ignore
        retention-days: 30

  # ğŸ€ BASKETBALL
  basketball:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ€ Run Basketball Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Basketball dla daty: $TODAY"
        
        # Mail 1: Zdarzenia z przewagÄ… formy + kursy
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 1/2: Zdarzenia z PRZEWAGÄ„ FORMY + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports basketball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-form-advantage \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund miÄ™dzy mailami
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        
        # Mail 2: Wszystkie kwalifikujÄ…ce siÄ™ zdarzenia z kursami
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: WSZYSTKIE KWALIFIKUJÄ„CE + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports basketball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Mail 3: Over/Under Statistics
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 3..."
        sleep 10
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 3/3: OVER/UNDER STATISTICS"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports basketball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 3 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Basketball scraping zakoÅ„czony (3 maile)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Basketball outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: basketball-results-${{ github.run_number }}
        path: outputs/*basketball*.csv
        if-no-files-found: ignore
        retention-days: 30

  # ğŸ¤¾ HANDBALL
  handball:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ¤¾ Run Handball Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Handball dla daty: $TODAY"
        
        # Mail 1: Zdarzenia z przewagÄ… formy + kursy
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 1/2: Zdarzenia z PRZEWAGÄ„ FORMY + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports handball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-form-advantage \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund miÄ™dzy mailami
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        
        # Mail 2: Wszystkie kwalifikujÄ…ce siÄ™ zdarzenia z kursami
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: WSZYSTKIE KWALIFIKUJÄ„CE + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports handball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Mail 3: Over/Under Statistics
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 3..."
        sleep 10
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 3/3: OVER/UNDER STATISTICS"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports handball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 3 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Handball scraping zakoÅ„czony (3 maile)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Handball outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: handball-results-${{ github.run_number }}
        path: outputs/*handball*.csv
        if-no-files-found: ignore
        retention-days: 30

  # ğŸ VOLLEYBALL
  volleyball:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ Run Volleyball Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Volleyball dla daty: $TODAY"
        
        # Mail 1: Zdarzenia z przewagÄ… formy + kursy
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 1/2: Zdarzenia z PRZEWAGÄ„ FORMY + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports volleyball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-form-advantage \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund miÄ™dzy mailami
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        
        # Mail 2: Wszystkie kwalifikujÄ…ce siÄ™ zdarzenia z kursami
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: WSZYSTKIE KWALIFIKUJÄ„CE + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports volleyball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Mail 3: Over/Under Statistics
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 3..."
        sleep 10
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 3/3: OVER/UNDER STATISTICS"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports volleyball \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 3 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Volleyball scraping zakoÅ„czony (3 maile)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Volleyball outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: volleyball-results-${{ github.run_number }}
        path: outputs/*volleyball*.csv
        if-no-files-found: ignore
        retention-days: 30

  # ğŸ’ HOCKEY
  hockey:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ’ Run Hockey Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Hockey dla daty: $TODAY"
        
        # Mail 1: Zdarzenia z przewagÄ… formy + kursy
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 1/2: Zdarzenia z PRZEWAGÄ„ FORMY + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports hockey \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-form-advantage \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Poczekaj 10 sekund miÄ™dzy mailami
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        
        # Mail 2: Wszystkie kwalifikujÄ…ce siÄ™ zdarzenia z kursami
        echo ""
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: WSZYSTKIE KWALIFIKUJÄ„CE + KURSY"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports hockey \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Mail 3: Over/Under Statistics
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 3..."
        sleep 10
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 3/3: OVER/UNDER STATISTICS"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports hockey \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 3 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Hockey scraping zakoÅ„czony (3 maile)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Hockey outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: hockey-results-${{ github.run_number }}
        path: outputs/*hockey*.csv
        if-no-files-found: ignore
        retention-days: 30

  # ğŸ¾ TENNIS
  tennis:
    runs-on: ubuntu-latest
    timeout-minutes: 360  # 6 godzin (maksimum GitHub Actions) dla 2500+ meczÃ³w
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
    
    - name: ğŸ Setup Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        cache: 'pip'
    
    - name: ğŸŒ Install Chrome & ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver
    
    - name: ğŸ“¦ Install Python dependencies
      run: |
        pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ¾ Run Tennis Scraping
      run: |
        # UÅ¼yj timezone polskiego (Europe/Warsaw) zamiast UTC
        TODAY=$(TZ=Europe/Warsaw date +%Y-%m-%d)
        echo "ğŸ—“ï¸ Scraping Tennis dla daty: $TODAY"
        
        # Mail 1: Standard kwalifikujÄ…ce (advanced scoring)
        echo "ğŸ“§ MAIL 1/2: Zdarzenia tenisowe z kursami..."
        python scrape_and_notify.py \
          --date $TODAY \
          --sports tennis \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --skip-no-odds || echo "âš ï¸ Mail 1 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        # Mail 2: Over/Under Statistics (setÃ³w)
        echo ""
        echo "â³ Czekam 10 sekund przed wysÅ‚aniem mail 2..."
        sleep 10
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“§ MAIL 2/2: OVER/UNDER STATISTICS (sety)"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        python scrape_and_notify.py \
          --date $TODAY \
          --sports tennis \
          --to jakub.majka.zg@gmail.com \
          --from-email jakub.majka.zg@gmail.com \
          --password "${{ secrets.EMAIL_PASSWORD }}" \
          --headless \
          --sort time \
          --only-over-under \
          --skip-no-odds || echo "âš ï¸ Mail 2 zakoÅ„czyÅ‚ siÄ™ bÅ‚Ä™dem (moÅ¼e brak zdarzeÅ„)"
        
        echo ""
        echo "âœ… Tennis scraping zakoÅ„czony (2 maile)!"
      
      env:
        DISPLAY: ':99'
    
    - name: ğŸ“Š Upload Tennis outputs
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: tennis-results-${{ github.run_number }}
        path: outputs/*tennis*.csv
        if-no-files-found: ignore
        retention-days: 30

